<div class="header-wrapper">
    <div>
        <!--Application logo and names-->
        <div class="nav-part start">
            <button mat-menu-item class="btn-menu-item" routerLink="/content" routerLinkActive="active-btn"
                [routerLinkActiveOptions]="{ exact: true }">
                <mat-icon></mat-icon>
                <div class="app-name">My Angular App</div>
            </button>
            <button mat-menu-item class="btn-menu-item" routerLink="/galleria"
                routerLinkActive="active-btn">Gallery</button>
        </div>

        <!--Additional menu-->
        <div class="nav-part end">

            <!-- Profile trigger -->
            <button mat-menu-item class="btn-menu-item has-icon" [matMenuTriggerFor]="profileMenu"
                aria-label="User profile">
                <app-profile-picture [user]="user$ | async" [size]="32"></app-profile-picture>
            </button>

            <!-- Profile dropdown -->
            <mat-menu #profileMenu="matMenu" class="profile-menu">
                <div class="profile-dialog">
                    <!-- Profile header -->
                    <div class="profile-header">
                        <app-profile-picture [user]="user$ | async" [size]="64"></app-profile-picture>
                        <div class="profile-info">
                            <div class="profile-name">{{ (user$ | async)?.name }}</div>
                            <div class="profile-location">{{ (user$ | async)?.location || (user$ | async)?.email }}
                            </div>
                        </div>
                    </div>

                    <!-- Profile dropdown logout button -->
                    <button mat-flat-button color="primary" (click)="logout()">
                    Logout
                    </button>

                </div>
            </mat-menu>

            <!--Change language menu-->
            <button mat-menu-item class="btn-menu-item has-icon" [matMenuTriggerFor]="languageSettingsMenu"
                aria-label="Change language">
                <mat-icon fontIcon="language"></mat-icon>
            </button>
            <mat-menu #languageSettingsMenu="matMenu">
                <button mat-menu-item (click)="changeLang('en')" aria-label="English">English</button>
                <button mat-menu-item (click)="changeLang('de')" aria-label="Deutsch">Deutsch</button>
            </mat-menu>

            <mat-slide-toggle [checked]="isDarkTheme" (change)="toggleTheme($event)" aria-label="Toggle dark theme">
            </mat-slide-toggle>
        </div>

    </div>
</div>